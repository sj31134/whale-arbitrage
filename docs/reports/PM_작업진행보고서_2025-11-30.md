# PM ì‘ì—… ì§„í–‰ ë³´ê³ ì„œ

**ì‘ì„±ì¼**: 2025-11-30  
**ì‘ì„±ì**: PM  
**ì‘ì—… ë²”ìœ„**: ì—…ë¬´ì§€ì‹œì„œ 4ê°€ì§€ ë¬¸ì œì  í•´ê²°

---

## ğŸ“Š ì „ì²´ ì§„í–‰ ìƒí™©

| ë‹¨ê³„ | ì‘ì—… ë‚´ìš© | ìƒíƒœ | ì™„ë£Œìœ¨ |
|------|----------|------|--------|
| **1ë‹¨ê³„** | ê±°ë˜ì†Œ ìœ ì…/ìœ ì¶œ 0 ë¬¸ì œ í•´ê²° | âœ… ì™„ë£Œ | 100% |
| **2ë‹¨ê³„** | ETH ë°ì´í„° ìˆ˜ì§‘ | ğŸ”„ ì§„í–‰ì¤‘ | 60% |
| **3ë‹¨ê³„** | ë™ì  ë³€ìˆ˜ ìƒê´€ê´€ê³„ ë¶„ì„ | â³ ëŒ€ê¸° | 0% |
| **4ë‹¨ê³„** | ê³ ë˜ ë°ì´í„° í†µê³„ì  ê²€ì¦ | â³ ëŒ€ê¸° | 0% |

---

## âœ… 1ë‹¨ê³„: ê±°ë˜ì†Œ ìœ ì…/ìœ ì¶œ 0 ë¬¸ì œ í•´ê²°

### ë¬¸ì œ ì›ì¸
- `transaction_direction` ê°’ì´ `'exchange_inflow'/'exchange_outflow'`ê°€ ì•„ë‹ˆë¼ `'BUY'/'SELL'/'MOVE'`ë¡œ ë˜ì–´ ìˆì—ˆìŒ
- `aggregate_whale_stats.py`ê°€ `'exchange_inflow'/'exchange_outflow'`ë§Œ ì°¾ì•„ì„œ ë§¤ì¹­ ì‹¤íŒ¨

### í•´ê²° ì¡°ì¹˜
1. âœ… `diagnose_exchange_flow.py` ì§„ë‹¨ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
2. âœ… `aggregate_whale_stats.py` ìˆ˜ì •:
   - `BUY` â†’ `exchange_outflow` ë§¤í•‘ ì¶”ê°€
   - `SELL` â†’ `exchange_inflow` ë§¤í•‘ ì¶”ê°€
   - `MOVE` â†’ `whale_to_whale` ë§¤í•‘ ì¶”ê°€
3. âœ… ì¬ì§‘ê³„ ì‹¤í–‰ ì™„ë£Œ:
   - ì¼ë³„ í†µê³„: 1,683ê±´
   - ì£¼ë³„ í†µê³„: 248ê±´

### ê²€ì¦ ê²°ê³¼
- ETH: ìœ ì… 2ê±´ (0.1%), ìœ ì¶œ 5ê±´ (0.4%) - ì—¬ì „íˆ ë‚®ìŒ
- BTC: ìœ ì…/ìœ ì¶œ ëª¨ë‘ 0ê±´
- **ì¶”ê°€ ì´ìŠˆ**: `amount_usd`ê°€ NULL/0ì¸ ê²½ìš°ê°€ 99% (ë³„ë„ ì‘ì—… í•„ìš”)

### ì™„ë£Œ íŒŒì¼
- `scripts/subprojects/risk_ai/diagnose_exchange_flow.py` (ì‹ ê·œ)
- `scripts/subprojects/risk_ai/aggregate_whale_stats.py` (ìˆ˜ì •)

---

## ğŸ”„ 2ë‹¨ê³„: ETH ë°ì´í„° ìˆ˜ì§‘

### í˜„í™© ì ê²€ ê²°ê³¼
| ë°ì´í„° ì†ŒìŠ¤ | BTC | ETH | ì°¨ì´ |
|------------|-----|-----|------|
| `binance_futures_metrics` | 1,428ê±´ (2022-01-01~) | 1,063ê±´ (2022-12-31~) | ì‹œì‘ì¼ 1ë…„ ì°¨ì´, OI 22ê±´ë§Œ |
| `futures_extended_metrics` | 1,303ê±´ | 0ê±´ | **ì™„ì „íˆ ì—†ìŒ** |
| `whale_daily_stats` | 274ê±´ | 1,409ê±´ | BTCê°€ ë” ì ìŒ |
| `bitinfocharts_whale` | 1,063ê±´ | 4ê±´ | **ê±°ì˜ ì—†ìŒ** |

### ì™„ë£Œëœ ì‘ì—…
1. âœ… `backfill_binance_futures.py` ìˆ˜ì •: `--symbol` íŒŒë¼ë¯¸í„° ì§€ì›
2. âœ… ETHUSDT Funding Rate ìˆ˜ì§‘ ì™„ë£Œ: 1,429ì¼ (2022-01-01 ~ í˜„ì¬)
3. âœ… `backfill_futures_extended_metrics.py` ìˆ˜ì •: `--symbol` íŒŒë¼ë¯¸í„° ì§€ì›
4. âœ… ETHUSDT Extended Metrics ìˆ˜ì§‘ ì™„ë£Œ: ìµœê·¼ 500ê±´

### ì§„í–‰ ì¤‘/ë¯¸ì™„ë£Œ ì‘ì—…
1. âš ï¸ Bybit Futures (ETHUSDT): API ì‘ë‹µ í˜•ì‹ ì˜¤ë¥˜ (`fundingTime` í‚¤ ì—†ìŒ)
2. â³ Bitinfocharts Whale (ETH): ìˆ˜ì§‘ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ í•„ìš”
3. â³ Binance OI (ETHUSDT): API ì œí•œìœ¼ë¡œ ìˆ˜ì§‘ ë¶ˆê°€ (ë³„ë„ ë°©ë²• í•„ìš”)

### ì™„ë£Œ íŒŒì¼
- `scripts/subprojects/risk_ai/backfill_binance_futures.py` (ìˆ˜ì •)
- `scripts/subprojects/risk_ai/backfill_futures_extended_metrics.py` (ìˆ˜ì •)

---

## â³ 3ë‹¨ê³„: ë™ì  ë³€ìˆ˜ ìƒê´€ê´€ê³„ ë¶„ì„ (ëŒ€ê¸°)

### ê³„íš
1. `scripts/subprojects/risk_ai/analyze_dynamic_correlation.py` ê°œë°œ
   - ì¢…ì†ë³€ìˆ˜: `price_change_1d`, `price_change_7d`, `volatility_change_1d`, `price_direction_1d`
   - ë…ë¦½ë³€ìˆ˜: ëª¨ë“  ë™ì  ë³€ìˆ˜ (`volatility_delta`, `oi_accel`, etc.)
   - ìƒê´€ê´€ê³„ ê³„ì‚°: Pearson, Spearman, ì‹œì°¨ ìƒê´€ê´€ê³„
   - í†µê³„ì  ìœ ì˜ì„± ê²€ì •: p-value, FDR ë³´ì •

2. `scripts/subprojects/risk_ai/backtest_dynamic_signals.py` ê°œë°œ
   - ì‹œê·¸ë„ ìƒì„± (ì„ê³„ê°’ ê¸°ë°˜)
   - ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (2022-01-01 ~ í˜„ì¬)
   - ìˆ˜ìµë¥ , Sharpe Ratio, Maximum Drawdown ê³„ì‚°

3. `app/pages/dynamic_variables_page.py` ìˆ˜ì •
   - ìƒê´€ê´€ê³„ ì„¹ì…˜ ì¶”ê°€
   - ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì„¹ì…˜ ì¶”ê°€

---

## â³ 4ë‹¨ê³„: ê³ ë˜ ë°ì´í„° í†µê³„ì  ê²€ì¦ (ëŒ€ê¸°)

### ê³„íš
1. `scripts/subprojects/risk_ai/analyze_whale_price_correlation.py` ê°œë°œ
   - ì¢…ì†ë³€ìˆ˜: `price_static`, `price_change_1d/7d/30d`, `volatility_1d/7d`, `price_direction_1d/7d`
   - ë…ë¦½ë³€ìˆ˜: ëª¨ë“  ê³ ë˜/ì˜¨ì²´ì¸ ë³€ìˆ˜
   - ë¶„ì„ ë°©ë²•:
     - ìƒê´€ê´€ê³„ ë¶„ì„ (Pearson, Spearman)
     - ê·¸ë ˆì¸ì € ì¸ê³¼ê´€ê³„ ê²€ì •
     - ì„ í˜• íšŒê·€ ë¶„ì„
     - ëœë¤ í¬ë ˆìŠ¤íŠ¸ í”¼ì²˜ ì¤‘ìš”ë„
     - SHAP ê°’ ë¶„ì„

2. `app/pages/comprehensive_dashboard_page.py` ìˆ˜ì •
   - ë³€ìˆ˜ë³„ ê°€ê²© ì˜í–¥ë„ ì„¹ì…˜ ì¶”ê°€
   - ì˜ˆì¸¡ë ¥ ë¹„êµ ì„¹ì…˜ ì¶”ê°€
   - ìµœì  ë³€ìˆ˜ ì¡°í•© ì¶”ì²œ ì¶”ê°€

---

## ğŸ”§ ê¸°ìˆ ì  ì´ìŠˆ ë° í•´ê²° ë°©ì•ˆ

### ì´ìŠˆ 1: amount_usdê°€ NULL/0ì¸ ê²½ìš°ê°€ 99%
- **ì›ì¸**: `whale_transactions` í…Œì´ë¸”ì˜ `amount_usd` ì»¬ëŸ¼ì´ ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠìŒ
- **í•´ê²° ë°©ì•ˆ**: `sql/update_amount_usd_rpc.sql` ë˜ëŠ” `scripts/subprojects/risk_ai/update_amount_usd.py` ì‹¤í–‰ í•„ìš”

### ì´ìŠˆ 2: Bybit API ì‘ë‹µ í˜•ì‹ ì˜¤ë¥˜
- **ì›ì¸**: Bybit v5 API ì‘ë‹µì—ì„œ `fundingTime` í‚¤ê°€ ì—†ìŒ (ë‹¤ë¥¸ í‚¤ ì´ë¦„ì¼ ìˆ˜ ìˆìŒ)
- **í•´ê²° ë°©ì•ˆ**: `backfill_bybit_futures.py`ì˜ ì‘ë‹µ íŒŒì‹± ë¡œì§ ìˆ˜ì • í•„ìš”

### ì´ìŠˆ 3: Binance OI íˆìŠ¤í† ë¦¬ API ì œí•œ
- **ì›ì¸**: `openInterestHist` APIê°€ `startTime`/`endTime` íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŒ
- **í•´ê²° ë°©ì•ˆ**: Binance Vision ì•„ì¹´ì´ë¸Œì—ì„œ `.zip` íŒŒì¼ ë‹¤ìš´ë¡œë“œ (ì´ë¯¸ êµ¬í˜„ë¨)

---

## ğŸ“‹ ë‹¤ìŒ ì‘ì—… ìš°ì„ ìˆœìœ„

1. **ì¦‰ì‹œ**: Bybit API ì‘ë‹µ í˜•ì‹ ìˆ˜ì • ë° ETHUSDT ë°ì´í„° ìˆ˜ì§‘ ì™„ë£Œ
2. **ë‹¨ê¸°**: Bitinfocharts Whale (ETH) ìˆ˜ì§‘
3. **ì¤‘ê¸°**: ë™ì  ë³€ìˆ˜ ìƒê´€ê´€ê³„ ë¶„ì„ ëª¨ë“ˆ ê°œë°œ
4. **ì¤‘ê¸°**: ê³ ë˜ ë°ì´í„° í†µê³„ì  ê²€ì¦ ëª¨ë“ˆ ê°œë°œ
5. **ì¥ê¸°**: ëŒ€ì‹œë³´ë“œ í†µí•© ë° UI ê°œì„ 

---

## âœ… ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] ê±°ë˜ì†Œ ìœ ì…/ìœ ì¶œ ë¬¸ì œ ì§„ë‹¨
- [x] aggregate_whale_stats.py ìˆ˜ì •
- [x] ì¬ì§‘ê³„ ì‹¤í–‰
- [x] ETH ë°ì´í„° í˜„í™© ì ê²€
- [x] Binance Futures (ETHUSDT) Funding Rate ìˆ˜ì§‘
- [x] Binance Extended Metrics (ETHUSDT) ìˆ˜ì§‘
- [ ] Bybit Futures (ETHUSDT) ìˆ˜ì§‘ (API ì˜¤ë¥˜)
- [ ] Bitinfocharts Whale (ETH) ìˆ˜ì§‘
- [ ] ë™ì  ë³€ìˆ˜ ìƒê´€ê´€ê³„ ë¶„ì„ ëª¨ë“ˆ ê°œë°œ
- [ ] ë™ì  ë³€ìˆ˜ ë°±í…ŒìŠ¤íŠ¸ ëª¨ë“ˆ ê°œë°œ
- [ ] ê³ ë˜ ë°ì´í„° í†µê³„ì  ê²€ì¦ ëª¨ë“ˆ ê°œë°œ
- [ ] ëŒ€ì‹œë³´ë“œ í†µí•©

---

**ë³´ê³ ì**: PM  
**ë‹¤ìŒ ë³´ê³  ì˜ˆì •ì¼**: ì‘ì—… ì™„ë£Œ ì‹œ

